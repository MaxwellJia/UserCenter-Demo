(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{35695:(e,t,s)=>{"use strict";var a=s(18999);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},50661:(e,t,s)=>{Promise.resolve().then(s.bind(s,86616))},57092:(e,t,s)=>{"use strict";s.d(t,{j:()=>a});let a=(e,t,s)=>{switch(e){case"username":if(!t)return"Username is required.";if(!/^[a-zA-Z0-9_]+$/.test(t))return"Username can only contain letters, numbers, and underscores.";if(t.length<3||t.length>32)return"Username must be between 3 and 32 characters.";return"";case"email":if(!t)return"Email is required.";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return"Please enter a valid email address.";return"";case"password":if(!t)return"Password is required.";if(t.length<8)return"Password must be at least 8 characters long.";if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])/.test(t))return"Password must include uppercase, lowercase, number and special character.";return"";case"confirmPassword":if(!t)return"Please confirm your password.";if(t!==s.password)return"Passwords do not match.";return"";default:return""}}},69018:(e,t,s)=>{"use strict";s.d(t,{hG:()=>u,iD:()=>n,kz:()=>r,Zm:()=>i,x5:()=>l,CI:()=>o,TK:()=>d});let a=s(23464).A.create({baseURL:"https://usercenter-demo-bsc9fyazcubtgka0.australiaeast-01.azurewebsites.net",headers:{"Content-Type":"application/json"}}),r=async e=>(await a.post("/Auth/register",e)).data;async function n(e){return(await a.post("/Auth/login",e,{withCredentials:!0})).data}async function i(e){return(await a.post("/User/saveChanges",e,{withCredentials:!0})).data}async function o(){return(await a.post("/Auth/signOut",null,{withCredentials:!0})).data}async function l(e){try{let t=await a.get("/User/list",{params:e,withCredentials:!0});return{data:t.data.data,total:t.data.total,success:!0}}catch(a){var t,s,r,n,i;let e=null==(t=a.response)?void 0:t.status;if(401===e)throw Error("Unauthorized: The user is not logged in or the identity is invalid");if(403===e)throw Error((null==(r=a.response)||null==(s=r.data)?void 0:s.message)||(null==(i=a.response)||null==(n=i.data)?void 0:n.data)||"Forbidden: Insufficient permissions");throw console.error("Failed to obtain user list",a),Error("Unexpected error occurred while fetching user list")}}async function u(e){return await a.delete("/User/delete/".concat(e))}async function d(e){return await a.put("/User/update/".concat(e.id),e)}},86616:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(95155),r=s(69018),n=s(12115),i=s(57092),o=s(66766),l=s(35695);function u(){let e=(0,l.useRouter)(),[t,s]=(0,n.useState)(!1),[u,d]=(0,n.useState)({username:"",email:"",password:""}),[c,m]=(0,n.useState)({}),h=e=>{let{name:t,value:s}=e.target,a={...u,confirmPassword:f},r=(0,i.j)(t,s,a);m(e=>({...e,[t]:r}))},[f,x]=(0,n.useState)(""),[g,p]=(0,n.useState)(null),w=e=>{let{name:t,value:s}=e.target;d(e=>({...e,[t]:s})),p(null)},y=async t=>{if(t.preventDefault(),u.password!==f)return void p("Passwords do not match");try{let t=await (0,r.kz)(u);console.log("Registration success:",t),s(!0),setTimeout(()=>{e.push("/login")},2e3)}catch(e){var a,n;console.error("Registration failed:",e),p((null==(n=e.response)||null==(a=n.data)?void 0:a.message)||"Registration failed")}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-tr from-indigo-100 via-white to-indigo-200 flex flex-col justify-center items-center px-4 py-12 sm:px-6 lg:px-8 font-sans",children:[(0,a.jsxs)("div",{className:"w-full max-w-md space-y-8 p-10 bg-white rounded-xl shadow-lg ring-1 ring-gray-200",children:[(0,a.jsxs)("div",{className:"text-center items-center",children:[(0,a.jsx)(o.default,{className:"mx-auto w-auto",src:"/cam_fall.png",alt:"Cam Fall",height:180,width:180}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Join us and get started in seconds."})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:y,method:"POST",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{id:"username",name:"username",type:"text",required:!0,minLength:3,maxLength:32,pattern:"^[a-zA-Z0-9_]+$",placeholder:"Username",value:u.username,onChange:w,onBlur:h,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}),c.username&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.username})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{id:"email",name:"email",type:"email",placeholder:"Email",required:!0,value:u.email,onChange:w,onBlur:h,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}),c.email&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{id:"password",name:"password",type:"password",placeholder:"Password",required:!0,minLength:8,maxLength:32,pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$",value:u.password,onChange:w,onBlur:h,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}),c.password&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.password})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{id:"confirm-password",name:"confirm-password",type:"password",placeholder:"Confirm Password",required:!0,minLength:8,maxLength:32,pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$",onChange:e=>{x(e.target.value),p(null)},onBlur:h,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}),c.confirmPassword&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.confirmPassword})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",children:"Sign up"})}),t&&(0,a.jsx)("p",{className:"text-green-600 text-center font-medium",children:"Registration successful! Redirecting to the login page..."}),g&&(0,a.jsx)("p",{className:"text-red-500 text-center font-medium",children:g})]}),(0,a.jsxs)("div",{className:"text-sm text-center text-gray-500",children:["Already have an account?"," ",(0,a.jsx)("a",{href:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})]}),(0,a.jsxs)("footer",{className:"mt-10 text-center text-xs text-gray-400",children:["\xa9 ",new Date().getFullYear()," Cam Fall. All rights reserved."]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[464,766,441,684,358],()=>t(50661)),_N_E=e.O()}]);