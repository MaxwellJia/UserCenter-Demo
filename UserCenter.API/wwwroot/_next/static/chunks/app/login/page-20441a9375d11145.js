(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{9690:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(95155),a=s(69018),n=s(12115),i=s(57092);s(85716);var o=s(66766),l=s(35695),u=s(13568);function d(){let e=(0,l.useRouter)(),[t,s]=(0,n.useState)({username:"",password:""}),[d,c]=(0,n.useState)({}),[m]=(0,n.useState)(""),[h,f]=(0,n.useState)(null),p=e=>{let{name:s,value:r}=e.target,a={...t,email:"",confirmPassword:m},n=(0,i.j)(s,r,a);c(e=>({...e,[s]:n}))},g=e=>{let{name:t,value:r}=e.target;s(e=>({...e,[t]:r}))},x=async s=>{s.preventDefault();let r=(0,a.iD)(t).then(t=>(localStorage.setItem("user",JSON.stringify(t.data)),e.push("/dashboard/welcome"),t)).catch(e=>{if(e&&"object"==typeof e&&"response"in e){var t;f((null==(t=e.response)?void 0:t.data)||"Login failed")}else f("Login failed");throw e});await u.oR.promise(r,{loading:"Logging in...",success:"Login successful, redirecting",error:"Login failed, please check your username or password"},{position:"top-center"})};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-tr from-indigo-100 via-white to-indigo-200 flex flex-col justify-center items-center px-4 py-12 sm:px-6 lg:px-8 font-sans",children:[(0,r.jsx)(u.l$,{position:"top-center"}),(0,r.jsxs)("div",{className:"w-full max-w-md space-y-8 p-10 bg-white rounded-xl shadow-lg ring-1 ring-gray-200",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(o.default,{className:"mx-auto w-auto",src:"/cam_fall.png",alt:"Cam Fall",height:180,width:180}),(0,r.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Welcome to Cam Fall User Center"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access your dashboard and continue your journey."})]}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:x,method:"POST",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{id:"username",name:"username",type:"text",placeholder:"User Name",value:t.username,onChange:g,onBlur:p,autoComplete:"username",required:!0,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}),d.username&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.username})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{id:"password",name:"password",type:"password",placeholder:"Password",value:t.password,onChange:g,onBlur:p,autoComplete:"current-password",required:!0,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}),d.password&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.password})]})]}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("div",{className:"text-sm",children:(0,r.jsx)("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password? Please Contact Administrator"})})}),h&&(0,r.jsx)("p",{className:"text-red-500",children:h}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign in"})})]}),(0,r.jsxs)("div",{className:"text-sm text-center text-gray-500",children:["Don't have an account?"," ",(0,r.jsx)("a",{href:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Register here"})]})]}),(0,r.jsxs)("footer",{className:"mt-10 text-center text-xs text-gray-400",children:["\xa9 ",new Date().getFullYear()," Cam Fall. All rights reserved."]})]})}},35695:(e,t,s)=>{"use strict";var r=s(18999);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},48383:(e,t,s)=>{Promise.resolve().then(s.bind(s,9690))},57092:(e,t,s)=>{"use strict";s.d(t,{j:()=>r});let r=(e,t,s)=>{switch(e){case"username":if(!t)return"Username is required.";if(!/^[a-zA-Z0-9_]+$/.test(t))return"Username can only contain letters, numbers, and underscores.";if(t.length<3||t.length>32)return"Username must be between 3 and 32 characters.";return"";case"email":if(!t)return"Email is required.";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return"Please enter a valid email address.";return"";case"password":if(!t)return"Password is required.";if(t.length<8)return"Password must be at least 8 characters long.";if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])/.test(t))return"Password must include uppercase, lowercase, number and special character.";return"";case"confirmPassword":if(!t)return"Please confirm your password.";if(t!==s.password)return"Passwords do not match.";return"";default:return""}}},69018:(e,t,s)=>{"use strict";s.d(t,{hG:()=>u,iD:()=>n,kz:()=>a,Zm:()=>i,x5:()=>l,CI:()=>o,TK:()=>d});let r=s(23464).A.create({baseURL:"https://usercenter-demo-bsc9fyazcubtgka0.australiaeast-01.azurewebsites.net/api",headers:{"Content-Type":"application/json"}}),a=async e=>(await r.post("/Auth/register",e)).data;async function n(e){return(await r.post("/Auth/login",e,{withCredentials:!0})).data}async function i(e){return(await r.post("/User/saveChanges",e,{withCredentials:!0})).data}async function o(){return(await r.post("/Auth/signOut",null,{withCredentials:!0})).data}async function l(e){try{let t=await r.get("/User/list",{params:e,withCredentials:!0});return{data:t.data.data,total:t.data.total,success:!0}}catch(r){var t,s,a,n,i;let e=null==(t=r.response)?void 0:t.status;if(401===e)throw Error("Unauthorized: The user is not logged in or the identity is invalid");if(403===e)throw Error((null==(a=r.response)||null==(s=a.data)?void 0:s.message)||(null==(i=r.response)||null==(n=i.data)?void 0:n.data)||"Forbidden: Insufficient permissions");throw console.error("Failed to obtain user list",r),Error("Unexpected error occurred while fetching user list")}}async function u(e){return await r.delete("/User/delete/".concat(e))}async function d(e){return await r.put("/User/update/".concat(e.id),e)}},85716:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[797,464,766,568,441,684,358],()=>t(48383)),_N_E=e.O()}]);